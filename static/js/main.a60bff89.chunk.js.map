{"version":3,"sources":["common/Preloader/PreloaderWithStyle/Preloader2.module.scss","store/profileReducer.ts","assets/images/user img/fsociety-mask-549635.png","common/layout/item.module.scss","store/dialogsReducer.ts","components/News/News.module.scss","assets/images/user img/Без названия.png","assets/images/network_icon/rss.png","components/Navbar/Navbar.module.scss","store/authReducer.ts","common/FormsControls/FormsControls.tsx","serviceWorker.ts","components/Navbar/Friends/Friends.tsx","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","utils/object-helpers.ts","store/usersReducer.ts","components/Users/userItem/UserItem.tsx","common/Paginator/Paginator.tsx","components/Users/Users.tsx","store/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","store/appReducer.ts","App.tsx","store/redux-store.ts","index.tsx","components/Navbar/Friends/Friends.module.scss","components/Login/Login.module.scss","components/Header/Header.module.scss","utils/validators/validators.ts","common/Preloader/PreloaderWithStyle/Preloader2.tsx","API/API.ts","components/Music/Music.module.scss","common/Paginator/Paginator.module.scss","common/FormsControls/FormsControls.module.scss","components/Users/Users.module.scss"],"names":["module","exports","initialState","post","id","v1","comm","like","profile","aboutMe","contacts","facebook","website","github","instagram","mainLink","twitter","vk","youtube","fullName","lookingForAJob","lookingForAJobDescription","userId","photos","large","small","isFetching","profileStatusText","newStatusText","profileReducer","state","action","type","isFetch","status","smallPhoto","largePhoto","addPostActionCreator","addStatusText","getProfileThunk","userID","dispatch","a","profileAPI","getProfile","responseData","console","log","message","getProfileStatus","getStatus","updateProfileStatus","updateStatus","resultCode","ResultCodesEnum","Success","alert","messages","savePhoto","photo","updPhotos","data","setPhoto","saveProfileChange","getState","length","stopSubmit","_error","toLowerCase","indexOf","Promise","reject","ADD_MESS","addMessActionCreator","mess","dialog","name","dialogsReducer","login","email","isAuth","captchaURL","authReducer","isFetchHeader","captcha","setToggleFetchAuth","setCaptcha","authMe","authAPI","response","password","rememberMe","ResultCodeForCaptcha","CaptchaIsRequired","securityAPI","getCaptcha","responseIMG","logout","Textarea","input","meta","props","error","className","s","formControl","Input","hasError","touched","createField","component","placeholder","validate","text","style","display","Boolean","window","location","hostname","match","Friends","d","wrapper","frTitle","friendProfileBlock","acc","first","title","src","alt","sec","NavBar","nav","item","to","activeClassName","active","News","useState","count","setCount","useEffect","interval","setTimeout","clearInterval","newsWrapper","Music","musicWrapper","titleSearch","playList","Settings","settingsWrapper","updateObjectInArray","items","itemID","followed","map","u","pageSize","totalUsersCount","portionSize","currentPage","followingInProgress","usersReducer","totalCount","filter","follow","unFollow","setToggleFetch","setToggleFollowing","followUnfollowFlow","apiMethod","actionCreator","UserItem","key","user","avatarIMG","userIcon","disabled","some","onClick","Paginator","pageCount","Math","ceil","totalItemsCount","pages","i","push","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","HeaderUserBlock","paginator","p","onPageChanged","cn","pageNumber","selectedPage","Users","PreloaderBlock","Preloader2","users","itemCase","followUser","unFollowUser","getUsersSelector","getPageSizeSelector","getTotalUserCountSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingInProgressUserIdSelector","UsersPage","setCurrentPage","getUsers","this","React","Component","compose","connect","auth","page","userAPI","followingAPI","unFollowing","bind","following","Header","header","network","sNetwork","loginBlock","profileLogin","userPhoto","HeaderContainer","maxLength8","maxLength","LoginWithConnect","typeInput","setTypeInput","validators","requiredField","onSubmit","handleSubmit","onChange","e","currentTarget","checked","formSummeryError","btn","LoginReduxForm","reduxForm","form","el","errorSpan","formData","initialized","appReducer","DialogsContainer","lazy","Profile","App","catchAllUnhandledErrors","rej","addEventListener","initializeApp","removeEventListener","setInitialize","fallback","path","render","UsersContainer","from","app","reducers","combineReducers","dialogs","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","_store_","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","value","cssload_container","cssload_speeding_wheel","axiosInstance","axios","create","withCredentials","baseURL","headers","get","delete","url","put","FormData","append"],"mappings":"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","file":"static/js/main.a60bff89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cssload_container\":\"Preloader2_cssload_container__vgANh\",\"cssload_speeding_wheel\":\"Preloader2_cssload_speeding_wheel__3sDaK\",\"cssload-spin\":\"Preloader2_cssload-spin__1lcPY\"};","import {v1} from \"uuid\";\r\nimport {DispatchType, StateType} from \"./redux-store\";\r\nimport {EditProfile, profileAPI, ResultCodesEnum} from \"../API/API\";\r\nimport {Dispatch} from 'redux'\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {setPhoto} from \"./authReducer\";\r\n\r\n//типизация initialState\r\nexport type CommentType = {\r\n    comm: string\r\n    like: number\r\n    id: string\r\n}\r\nexport type UserProfileType = {\r\n    aboutMe: string\r\n    contacts: {\r\n        facebook: string\r\n        website: string\r\n        vk: string\r\n        twitter: string\r\n        instagram: string\r\n        youtube: string\r\n        github: string\r\n        mainLink: string\r\n    },\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: {\r\n        small: string | null\r\n        large: string | null\r\n    }\r\n}\r\nexport type ProfileType = {\r\n    post: Array<CommentType>\r\n    profile: UserProfileType\r\n    isFetching: boolean\r\n    profileStatusText: string | null\r\n    newStatusText: string | null\r\n}\r\n//типизация Action\r\nexport type AddPostActionType = {\r\n    type: typeof ADD_POST\r\n    post: string\r\n}\r\nexport type setUserProfileType = {\r\n    type: typeof SET_PROFILE\r\n    profile: UserProfileType\r\n}\r\nexport type setToggleFetchProfile = {\r\n    type: typeof TOGGLE_FETCHING_PROFILE\r\n    isFetch: boolean\r\n}\r\nexport type setProfileStatusType = {\r\n    type: typeof SET_PROFILE_STATUS\r\n    status: string\r\n}\r\nexport type addStatusTextType = {\r\n    type: typeof ADD_STATUS_TEXT,\r\n    status: string\r\n}\r\nexport type addPhotoType = {\r\n    type: typeof ADD_PHOTO\r\n    largePhoto: string\r\n    smallPhoto: string\r\n}\r\nexport type setProfileChangeType = {\r\n    type: typeof SET_PROFILE_CHANGE\r\n    profile: EditProfile\r\n}\r\ntype ActionsType = AddPostActionType | setUserProfileType | setToggleFetchProfile\r\n    | setProfileStatusType | addStatusTextType | addPhotoType\r\n    | setProfileChangeType\r\n//CASE:\r\nconst ADD_POST = \"ADD_POST\"\r\nconst SET_PROFILE = \"SET_PROFILE\"\r\nconst TOGGLE_FETCHING_PROFILE = \"TOGGLE_FETCHING_PROFILE\"\r\nconst SET_PROFILE_STATUS = \"SET_PROFILE_STATUS\"\r\nconst ADD_STATUS_TEXT = \"ADD_STATUS_TEXT\"\r\nconst ADD_PHOTO = \"ADD_PHOTO\"\r\nconst SET_PROFILE_CHANGE = \"SET_PROFILE_CHANGE\"\r\n\r\n\r\nlet initialState: ProfileType = {\r\n    post: [\r\n        {id: v1(), comm: \"It's my first post\", like: 5},\r\n        {id: v1(), comm: \"Hello World!\", like: 7},\r\n        {id: v1(), comm: \"React it's cool!\", like: 25}\r\n    ],\r\n    profile: {\r\n        aboutMe: '',\r\n        contacts: {\r\n            facebook: '',\r\n            website: '',\r\n            github: '',\r\n            instagram: '',\r\n            mainLink: '',\r\n            twitter: '',\r\n            vk: '',\r\n            youtube: ''\r\n        },\r\n        fullName: '',\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: '',\r\n        userId: 0,\r\n        photos: {\r\n            large: null,\r\n            small: null\r\n        }\r\n    },\r\n    isFetching: true,\r\n    profileStatusText: '',\r\n    newStatusText: ''\r\n}\r\n//newStatusText не использу нигде, можно что-то придумать\r\n\r\nconst profileReducer = (state: ProfileType = initialState, action: ActionsType): ProfileType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            // if (action.post.trim()) {\r\n            return {\r\n                ...state,\r\n                post: [{id: v1(), comm: action.post, like: 0}, ...state.post]\r\n            }\r\n        case SET_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case TOGGLE_FETCHING_PROFILE:\r\n            return {...state, isFetching: action.isFetch}\r\n        case SET_PROFILE_STATUS:\r\n            return {\r\n                ...state,\r\n                profileStatusText: action.status,\r\n                newStatusText: action.status\r\n            }\r\n        case ADD_STATUS_TEXT:\r\n            return {...state, profileStatusText: action.status}\r\n        case ADD_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile, photos: {\r\n                        small: action.smallPhoto,\r\n                        large: action.largePhoto\r\n                    }\r\n                }\r\n            }\r\n        case SET_PROFILE_CHANGE:\r\n            return {\r\n                ...state, profile: {...state.profile, ...action.profile}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\n// ActionCreators\r\nexport const addPostActionCreator = (post: string): AddPostActionType => ({\r\n    type: ADD_POST, post\r\n})\r\nexport const setUserProfile = (profile: UserProfileType): setUserProfileType => ({type: SET_PROFILE, profile})\r\nexport const setToggleFetchProfile = (isFetch: boolean): setToggleFetchProfile => ({\r\n    type: TOGGLE_FETCHING_PROFILE,\r\n    isFetch\r\n})\r\nexport const setProfileStatus = (status: string): setProfileStatusType => ({type: SET_PROFILE_STATUS, status})\r\nexport const addStatusText = (status: string): addStatusTextType => ({type: ADD_STATUS_TEXT, status})\r\nexport const addPhoto = (largePhoto: string, smallPhoto: string): addPhotoType => ({\r\n    type: ADD_PHOTO,\r\n    largePhoto,\r\n    smallPhoto\r\n})\r\nexport const setProfileChange = (profile: EditProfile): setProfileChangeType => ({type: SET_PROFILE_CHANGE, profile})\r\n\r\n//thunk\r\nexport const getProfileThunk = (userID: number) => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await profileAPI.getProfile(userID)\r\n        dispatch(setToggleFetchProfile(false))\r\n        dispatch(setUserProfile(responseData))\r\n    } catch (error) {\r\n        console.log('ошибка (getProfileThunk)', error.message)\r\n    }\r\n}\r\n\r\nexport const getProfileStatus = (userID: string) => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await profileAPI.getStatus(userID)\r\n        dispatch(setProfileStatus(responseData))\r\n    } catch (error) {\r\n        console.log('ошибка (getProfileStatus)', error.message)\r\n    }\r\n}\r\n\r\nexport const updateProfileStatus = (status: string) => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await profileAPI.updateStatus(status)\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(addStatusText(status))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            alert(responseData.messages)\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (upbProfileStatus)', error.message)\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo: string | Blob) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const responseData = await profileAPI.updPhotos(photo)\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(addPhoto(responseData.data.photos.large, responseData.data.photos.small))\r\n            dispatch(setPhoto(responseData.data.photos.small))\r\n        }\r\n    } catch (e) {\r\n        console.log('error in save photo: ', e.message)\r\n    }\r\n}\r\n\r\nexport const saveProfileChange = (profile: EditProfile) => async (dispatch: Dispatch, getState: () => StateType) => {\r\n    try {\r\n        const responseData = await profileAPI.saveProfileChange({...profile, userId: getState().profile.profile.userId})\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch<any>(getProfileThunk(getState().profile.profile.userId))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            console.log(responseData)\r\n            //if (responseData.messages.length > 1) {\r\n            // let errors =  responseData.messages\r\n            //   errors.map((d: string ) => {\r\n            //       return d.toLowerCase().indexOf('(contact->facebook)')\r\n            //   })\r\n            //   dispatch(stopSubmit('editProfile', {'contacts': {'facebook': responseData.messages[0]}}))\r\n            //}\r\n            if (responseData.messages.length > 0) {\r\n                dispatch(stopSubmit('editProfile', {_error: responseData.messages}))\r\n            } else if (responseData.messages.length === 0) {\r\n                if (responseData.messages[0].toLowerCase().indexOf('(contacts->facebook)')) {\r\n                    dispatch(stopSubmit('editProfile', {'contacts': {'facebook': responseData.messages[0]}}))\r\n                }\r\n            }\r\n            // возвращаем Промис чтобы в случае ошибки в ProfileInfo -> onEditSubmit можно было заюзать .then()\r\n            return Promise.reject(responseData.messages)\r\n        }\r\n    } catch (e) {\r\n        console.log('error in save edit profile: ', e.message)\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/fsociety-mask-549635.97f0a69e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemCase\":\"item_itemCase__2lrPm\"};","import {v1} from \"uuid\";\r\n\r\n//типизация initialState\r\nexport type DialogsDataType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type MessageDataType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogsPageType = {\r\n    dialog: Array<DialogsDataType>\r\n    mess: Array<MessageDataType>\r\n}\r\n//типизация ActionCreators\r\nexport type AddMessActionType = {\r\n    type: typeof ADD_MESS\r\n    mess: string\r\n}\r\n//ActionsType\r\ntype ActionsType = AddMessActionType\r\n//case:\r\nconst ADD_MESS = \"dialogs/ADD_MESS\"\r\n\r\n//ActionCreators\r\nexport const addMessActionCreator = (mess: string): AddMessActionType => ({\r\n    type: ADD_MESS , mess\r\n})\r\n\r\nlet initialState: DialogsPageType = {\r\n    dialog: [\r\n        {id: v1(), name: \"Artem\"},\r\n        {id: v1(), name: \"Dima\"},\r\n        {id: v1(), name: \"Goga\"},\r\n        {id: v1(), name: \"Alex\"},\r\n        {id: v1(), name: \"Vlad\"},\r\n        {id: v1(), name: \"Yarik\"}\r\n    ],\r\n    mess: [\r\n        {id: v1(), message: \"Hello\"},\r\n        {id: v1(), message: \"How are you ?\"},\r\n        {id: v1(), message: \"What are you think about React?\"},\r\n        {id: v1(), message: \"=)\"},\r\n        {id: v1(), message: \"LOL\"}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsType): DialogsPageType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESS:\r\n            return {\r\n                ...state,\r\n                mess: [...state.mess,{id: v1(), message: action.mess}]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsWrapper\":\"News_newsWrapper__2__L2\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/rss.fa3b73e4.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Eziq\",\"item\":\"Navbar_item__Tjs_K\",\"active\":\"Navbar_active__2NWGZ\"};","import {DispatchType} from \"./redux-store\";\r\nimport {authAPI, profileAPI, ResultCodeForCaptcha, ResultCodesEnum, securityAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n//типизация state/initialState\r\nexport type AuthType = {\r\n    data: {\r\n        id: number | null\r\n        login: string | null\r\n        email: string | null\r\n    }\r\n    messages: Array<string> | []\r\n    resultCode: number\r\n    isAuth: boolean\r\n    photo: string | null\r\n    captchaURL: string | null\r\n}\r\n//типизация ActionCreators\r\ntype data = {\r\n    data: {\r\n        id: number\r\n        login: string\r\n        email: string\r\n    }\r\n    resultCode: number\r\n    messages: string[]\r\n}\r\nexport type setAuthorizationType = {\r\n    type: typeof SET_AUTHORIZATION\r\n    data: data\r\n}\r\nexport type setToggleFetchHeaderType = {\r\n    type: typeof SET_FETCH_HEADER\r\n    isFetchHeader: boolean\r\n}\r\nexport type setPhotoType = {\r\n    type: typeof SET_PHOTO\r\n    photo: string | null\r\n}\r\nexport type setErrorMess = {\r\n    type: typeof SET_ERROR_MESS\r\n    messages: string\r\n}\r\nexport type setCaptchaIMGType = {\r\n    type: typeof SET_CAPTCHA_IMG\r\n    captcha: string\r\n}\r\n\r\n//ActionsType\r\ntype ActionsType = setAuthorizationType | setToggleFetchHeaderType | setPhotoType\r\n    | setErrorMess | setCaptchaIMGType\r\n\r\n//case:\r\nconst SET_AUTHORIZATION = 'auth/SET_AUTHORIZATION'\r\nconst SET_FETCH_HEADER = 'auth/SET_TOGGLE_HEADER'\r\nconst SET_PHOTO = 'auth/SET_PHOTO'\r\nconst SET_ERROR_MESS = 'auth/SET_ERROR_MESS'\r\nconst SET_CAPTCHA_IMG = 'auth/SET_CAPTCHA_IMG'\r\n\r\n\r\nlet initialState: AuthType = {\r\n    data: {\r\n        id: null,\r\n        login: null,\r\n        email: null\r\n    },\r\n    messages: [],\r\n    resultCode: 1,\r\n    isAuth: false,\r\n    photo: null,\r\n    captchaURL: null\r\n}\r\n\r\n\r\nconst authReducer = (state: AuthType = initialState, action: ActionsType): AuthType => {\r\n\r\n    switch (action.type) {\r\n        case SET_AUTHORIZATION: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        }\r\n        case SET_FETCH_HEADER: {\r\n            return {\r\n                ...state,\r\n                // при выходе зануляем данные\r\n                data: {email: null, login: null, id: null},\r\n                messages: [],\r\n                isAuth: action.isFetchHeader\r\n            }\r\n        }\r\n        case SET_PHOTO: {\r\n            return {\r\n                ...state, photo: action.photo\r\n            }\r\n        }\r\n        case SET_ERROR_MESS: {\r\n            return {...state, messages: [action.messages]}\r\n        }\r\n        case SET_CAPTCHA_IMG: {\r\n            return {...state, captchaURL: action.captcha}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\n//ActionCreators\r\nexport const setAuthUserData = (data: data): setAuthorizationType => ({type: SET_AUTHORIZATION, data})\r\nexport const setToggleFetchAuth = (isFetchHeader: boolean): setToggleFetchHeaderType => ({\r\n    type: SET_FETCH_HEADER,\r\n    isFetchHeader\r\n})\r\nexport const setPhoto = (photo: string | null): setPhotoType => ({type: SET_PHOTO, photo})\r\nexport const setErrorMess = (messages: string): setErrorMess => ({type: SET_ERROR_MESS, messages})\r\nexport const setCaptcha = (captcha: string): setCaptchaIMGType => ({type: SET_CAPTCHA_IMG, captcha})\r\n\r\n//thunks\r\nexport const authMe = () => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await authAPI.authMe()\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(setToggleFetchAuth(false))\r\n            dispatch(setAuthUserData(responseData))\r\n            let response = await profileAPI.getProfile(responseData.data.id) // дальше делаем запрос на сервак чтобы отрисовать фото\r\n            dispatch(setPhoto(response.photos.small))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            alert(responseData.messages)\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (authMe)', error.message)\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha?: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await authAPI.login(email, password, rememberMe, captcha)\r\n        if (response.resultCode === ResultCodesEnum.Success) {\r\n            dispatch<any>(authMe())\r\n        } else if (response.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n            let responseIMG = await securityAPI.getCaptcha()\r\n            dispatch(stopSubmit('login', {_error: response.messages}))\r\n            // dispatch(setErrorMess(response.messages[0]))\r\n            dispatch(setCaptcha(responseIMG))\r\n        } else if (response.resultCode !== ResultCodesEnum.Success) {\r\n            dispatch(stopSubmit('login', {_error: response.messages[0]}))\r\n            // dispatch(setErrorMess(response.messages[0]))\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (login in authReducer)', error.message)\r\n        dispatch(stopSubmit('login', {_error: error.message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: DispatchType) => {\r\n    try {\r\n        const response = await authAPI.logout()\r\n        if (response === ResultCodesEnum.Success) {\r\n            dispatch(setToggleFetchAuth(false)) //зануляем state и авторизация = false\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (logout in authReducer)', error.message)\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport s from './FormsControls.module.scss'\r\nimport {Field, WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    meta.error && console.log(meta.error)\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${meta.error && s.error}`}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            <span>{meta.error}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={hasError ? s.error : ''}>\r\n            <div>\r\n                <input type=\"text\" {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n//или можно создать creator для элиментов\r\n\r\nconst FormControlCreator: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={hasError ? s.error : ''}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <div>{hasError && <span>{meta.error}</span>}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input2: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControlCreator {...props}><input {...input} {...restProps}/> </FormControlCreator>\r\n}\r\n\r\nexport const Textarea2 = (props: any) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControlCreator {...props}><textarea {...input} {...restProps}/> </FormControlCreator>\r\n}\r\n\r\ntype CreateField = {\r\n    component: React.ComponentType | string\r\n    name: string\r\n    placeholder: string\r\n    validate: any\r\n}\r\n\r\nexport const createField = (\r\n    component: any,\r\n    name: string,\r\n    placeholder?: string,\r\n    validate?: any,\r\n    type: string = 'text',\r\n    text: string = '',\r\n) => (\r\n    <div style={{display: 'flex'}}>\r\n        <Field component={component} type={type} name={name} placeholder={placeholder} validate={[validate]}/>{text}\r\n    </div>\r\n)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport d from \"./Friends.module.scss\"\r\n\r\nconst Friends = () => {\r\n    return (\r\n        <div className={d.wrapper}>\r\n            <h4 className={d.frTitle}>FRIEND'S</h4>\r\n            <div className={d.friendProfileBlock}>\r\n                <div className={d.acc}>\r\n                    <img className={d.first}\r\n                         title={\"Yaroslav Nazim\"}\r\n                         src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTUPeBwnoxS_N7Jz6STQ_b9MpfT4WMgSELY-A&usqp=CAU\"\r\n                         alt=\"\"/>\r\n                    <p>Martin</p>\r\n                </div>\r\n                <div className={d.acc}>\r\n                    <img className={d.sec}\r\n                         title={\"Aleksandr Buhay\"}\r\n                         src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQwxS30sCGi485rzab_QizqNnNty5c1FbYB7Q&usqp=CAU\"\r\n                         alt=\"\"/>\r\n                    <p>Bill</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from \"react\";\r\nimport s from './Navbar.module.scss'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <div className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={'/profile'} activeClassName={s.active}> Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/users'} activeClassName={s.active}> Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/dialog'} activeClassName={s.active}> Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/news'} activeClassName={s.active}> News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/music'} activeClassName={s.active}> Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/settings'} activeClassName={s.active}> Settings</NavLink>\r\n            </div>\r\n            <Friends/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./News.module.scss\";\r\n\r\nfunction News() {\r\n\r\n    const [count, setCount] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const interval = setTimeout(() => {\r\n            setCount(count + 2)\r\n        }, 10)\r\n        count >= 400 && clearInterval(interval)\r\n        return () => clearInterval(interval)\r\n    }, [count])\r\n\r\n    return (\r\n        <div className={s.newsWrapper}>\r\n            <span>Новости в мире</span>\r\n            <ul>\r\n                <li>news news news news news news news news news news</li>\r\n                <li>Из-за короновируса ....</li>\r\n                <li>React .......</li>\r\n                <li>it it it it it it</li>\r\n            </ul>\r\n            <div>\r\n                <span>{count}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from \"./Music.module.scss\"\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className={s.musicWrapper}>\r\n            <div>\r\n                <span className={s.titleSearch}>Search songs </span>\r\n                <input className={s.input} type=\"text\"/>\r\n            </div>\r\n            <div className={s.playList}>\r\n             You haven`t songs =*(\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from \"./Settings.module.scss\"\r\n\r\nfunction Settings() {\r\n    return(\r\n        <div className={s.settingsWrapper}>\r\n            Settings\r\n            <div>\r\n                <ul>\r\n                    <li>My profile</li>\r\n                    <li>Themes</li>\r\n                    <li>Security</li>\r\n                    <li>Exit</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import {UsersReducerType} from \"../store/usersReducer\";\r\n\r\n\r\n//вспомогательная fn, которая помогает имьютабельно изменить в массиве какой-то объект\r\nexport const updateObjectInArray = (items: Array<UsersReducerType>, itemID: number, followed: boolean): Array<UsersReducerType> => {\r\n   return  items.map(u => {\r\n        if (u.id === itemID) {\r\n            return {...u, followed}\r\n        }\r\n        return u\r\n    })\r\n}","import {StateType} from \"./redux-store\";\r\nimport {followingAPI, ResultCodesEnum, userAPI} from \"../API/API\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\n\r\n//типизация action\r\nexport type FollowUser = {\r\n    type: typeof FOLLOW\r\n    userID: number\r\n}\r\nexport type UnfollowUser = {\r\n    type: typeof UNFOLLOW\r\n    userID: number\r\n}\r\nexport type SetUsers = {\r\n    type: typeof SET_USERS\r\n    items: Array<UsersReducerType>\r\n}\r\nexport type SetCurrentPage = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\nexport type SetTotalCount = {\r\n    type: typeof SET_TOTAL_COUNT\r\n    totalCount: number\r\n}\r\nexport type ToggleFetchingType = {\r\n    type: typeof TOGGLE_FETCHING\r\n    isFetch: boolean\r\n}\r\nexport type setFollowingType = {\r\n    type: typeof SET_TOGGLE_FOLLOWING\r\n    userID: number\r\n    isFetch: boolean\r\n}\r\n\r\ntype ActionsType = FollowUser | UnfollowUser | SetUsers | SetCurrentPage\r\n    | SetTotalCount | ToggleFetchingType | setFollowingType\r\n\r\n//типизация initialState\r\nexport type UsersReducerType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: null,\r\n    photos: {\r\n        small: null | string,\r\n        large: null | string\r\n    },\r\n    status: null,\r\n    followed: boolean\r\n}\r\nexport type UsersStateType = {\r\n    items: Array<UsersReducerType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    portionSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: {\r\n        userID: Array<number>\r\n        isFetch: boolean\r\n    }\r\n}\r\n\r\n//CASE\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT'\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING'\r\nconst SET_TOGGLE_FOLLOWING = 'SET_TOGGLE_FOLLOWING'\r\n\r\n\r\nlet initialState: UsersStateType = {\r\n    items: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    portionSize: 10,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: {\r\n        userID: [],\r\n        isFetch: false\r\n    }\r\n}\r\nconst usersReducer = (state: UsersStateType = initialState, action: ActionsType): UsersStateType => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                //updateObjectInArray вспомогательная fn, которая помогает имьютабельно изменить в массиве какой-то объект\r\n                items: updateObjectInArray(state.items, action.userID, true)\r\n                // items: state.items.map(u => {\r\n                //     if (u.id === action.userID) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                //updateObjectInArray вспомогательная fn, которая помогает имьютабельно изменить в массиве какой-то объект\r\n                items: updateObjectInArray(state.items, action.userID, false)\r\n                // items: state.items.map(u => {\r\n                //     if (u.id === action.userID) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u\r\n                // })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, items: [...action.items]}\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_FETCHING:\r\n            return {...state, isFetching: action.isFetch}\r\n        case SET_TOGGLE_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                followingInProgress: {\r\n                    ...state.followingInProgress,\r\n                    userID: action.isFetch\r\n                        ? [...state.followingInProgress.userID, action.userID]\r\n                        : state.followingInProgress.userID.filter(id => id !== action.userID)\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\n//AC\r\nexport const follow = (userId: number): FollowUser => ({type: FOLLOW, userID: userId})\r\nexport const unFollow = (userId: number): UnfollowUser => ({type: UNFOLLOW, userID: userId})\r\nexport const setUsers = (users: Array<UsersReducerType>): SetUsers => ({type: SET_USERS, items: users})\r\nexport const setCurrentPage = (page: number): SetCurrentPage => ({type: SET_CURRENT_PAGE, currentPage: page})\r\nexport const setTotalCount = (totalCount: number): SetTotalCount => ({type: SET_TOTAL_COUNT, totalCount})\r\nexport const setToggleFetch = (isFetch: boolean): ToggleFetchingType => ({type: TOGGLE_FETCHING, isFetch: isFetch})\r\nexport const setToggleFollowing = (userID: number, isFetch: boolean): setFollowingType => ({\r\n    type: SET_TOGGLE_FOLLOWING,\r\n    userID,\r\n    isFetch\r\n})\r\n\r\ntype getStateType = () => StateType\r\n\r\n\r\n//thunk\r\nexport const getUsersThunk = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch<ActionsType>, getState: getStateType) => {\r\n        dispatch(setToggleFetch(true))\r\n        let responseData = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(setToggleFetch(false))\r\n        dispatch(setUsers(responseData.items))\r\n        dispatch(setTotalCount(responseData.totalCount))\r\n    }\r\n}\r\n\r\ntype followUnfollowFlowType = {\r\n    dispatch: Dispatch\r\n    userID: number\r\n    apiMethod: (userID: number) => any\r\n    actionCreator: (userID: number) => any\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userID: number, apiMethod: (userID: number) => any, actionCreator: (userID: number) => any) => {\r\n    try {\r\n        dispatch(setToggleFollowing(userID, true))\r\n        const responseData = await apiMethod(userID)\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(actionCreator(userID))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            alert(responseData.messages)\r\n        }\r\n        dispatch(setToggleFollowing(userID, false))\r\n    } catch (error) {\r\n        console.log('userReducer FOLLOW/UNFOLLOW: ', error)\r\n    }\r\n}\r\n\r\nexport const unFollowThunk = (userID: number) => (dispatch: Dispatch) => {\r\n    let apiMethod = followingAPI.unFollowing.bind(followingAPI)\r\n    followUnfollowFlow(dispatch, userID, apiMethod, unFollow)\r\n\r\n    // dispatch(setToggleFollowing(userID, true))\r\n    // try {\r\n    //     const responseData = await apiMethod(userID)\r\n    //     if (responseData.resultCode === ResultCodesEnum.Success) {\r\n    //         dispatch(actionCreator(userID))\r\n    //     } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n    //         alert(responseData.messages)\r\n    //     }\r\n    //     dispatch(setToggleFollowing(userID, false))\r\n    // } catch (error) {\r\n    //     console.log('userReducer FOLLOW/UNFOLLOW: ', error)\r\n    // }\r\n}\r\n//thunk\r\nexport const followThunk = (userID: number) => (dispatch: Dispatch) => {\r\n    let apiMethod = followingAPI.following.bind(followingAPI)\r\n    followUnfollowFlow(dispatch, userID, apiMethod, follow)\r\n\r\n    // dispatch(setToggleFollowing(userID, true))\r\n    // try {\r\n    //     const responseData = await apiMethod(userID)\r\n    //     if (responseData.resultCode === ResultCodesEnum.Success) {\r\n    //         dispatch(actionCreator(userID))\r\n    //     } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n    //         alert(responseData.messages)\r\n    //     }\r\n    //     dispatch(setToggleFollowing(userID, false))\r\n    // }catch (error) {\r\n    //     console.log('userReducer FOLLOW: ', error)\r\n    // }\r\n}\r\n","import React from \"react\";\r\nimport {UsersReducerType} from \"../../../store/usersReducer\";\r\nimport s from \"../Users.module.scss\";\r\nimport userIcon from \"../../../assets/images/user img/fsociety-mask-549635.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UserItemType = {\r\n    user: UsersReducerType\r\n    unFollow: (userID: number) => void\r\n    follow: (userID: number) => void\r\n    followingInProgress: Array<number>\r\n    isAuth: boolean\r\n}\r\n\r\nfunction UserItem(props: UserItemType) {\r\n\r\n    const unFollow = () => {\r\n        props.unFollow(props.user.id)\r\n    }\r\n\r\n    const follow = () => {\r\n        props.follow(props.user.id)\r\n    }\r\n//При нажатии(NavLink) на аватарку пользователя в URL попадёт его ID.\r\n    return (\r\n        <div key={props.user.id}>\r\n            <NavLink to={'/profile/' + props.user.id}>\r\n                <img className={s.avatarIMG}\r\n                     src={props.user.photos.small === null\r\n                         ? userIcon\r\n                         : props.user.photos.small}\r\n                     alt={''}\r\n                />\r\n            </NavLink>\r\n            <span>\r\n                {props.isAuth &&\r\n                <div>\r\n                    {props.user.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                  onClick={unFollow}>unFollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                  onClick={follow}>Follow</button>}\r\n                </div>}\r\n            </span>\r\n            <div>{props.user.name}</div>\r\n            <div>{props.user.status}</div>\r\n            <div>{'country: '}</div>\r\n            <div>{'cities: '}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserItem;","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.scss\";\r\nimport cn from \"classnames\"\r\n\r\ntype DispatchToUsersPropsType = {\r\n    onPageChanged: (page: number) => void\r\n}\r\ntype StateToUsersPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize: number\r\n}\r\ntype UsersItemPageType = DispatchToUsersPropsType & StateToUsersPropsType\r\n\r\n\r\nconst Paginator = (props: UsersItemPageType) => {\r\n\r\n    let pageCount = Math.ceil((props.totalItemsCount / props.pageSize)) //делю на 50 чтобы отображалось меньше страниц\r\n    let pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    //общое к-во страниц/парция страниц видемых за раз, по умолчанию 10\r\n    let portionCount = Math.ceil(pageCount / props.portionSize)\r\n    //получаем левую границу порции страниц пользовательей\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\r\n    //получаем правую границу порции страниц пользователей\r\n    let rightPortionPageNumber = portionNumber * props.portionSize\r\n\r\n    const setPrevPortion = () => {\r\n        setPortionNumber(portionNumber - 1)\r\n    }\r\n\r\n    const setNextPortion = () => {\r\n        setPortionNumber(portionNumber + 1)\r\n    }\r\n\r\n    return (\r\n        <div className={s.HeaderUserBlock}>\r\n            <div className={s.paginator}>\r\n                {portionNumber > 1 && <button onClick={setPrevPortion}>prev</button>}\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p => {  //отрисовка к-во страниц пользователей/50(розделена на 50 для удобства просмотра)\r\n                        return (\r\n                            <span key={p} onClick={() => {props.onPageChanged(p)}}\r\n                                  className={cn(s.pageNumber, {[s.selectedPage]: props.currentPage === p})}>\r\n                            {p}\r\n                            </span>\r\n                        )\r\n                    })}\r\n                {portionCount > portionNumber && <button onClick={setNextPortion}> next </button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {UsersReducerType} from \"../../store/usersReducer\";\r\nimport UserItem from \"./userItem/UserItem\";\r\nimport s from \"./Users.module.scss\";\r\nimport item from '../../common/layout/item.module.scss'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport Preloader2 from \"../../common/Preloader/PreloaderWithStyle/Preloader2\";\r\n\r\n\r\ntype DispatchToUsersPropsType = {\r\n    onPageChanged: (page: number) => void\r\n    unFollowUser: (userID: number) => void\r\n    followUser: (userID: number) => void\r\n}\r\ntype StateToUsersPropsType = {\r\n    users: Array<UsersReducerType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    portionSize: number\r\n    isAuth: boolean\r\n}\r\ntype UsersItemPageType = DispatchToUsersPropsType & StateToUsersPropsType\r\n\r\n\r\nconst Users = ({onPageChanged, totalUsersCount, pageSize, currentPage, ...props}: UsersItemPageType) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                portionSize={props.portionSize}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n            />\r\n            <div className={s.PreloaderBlock}>\r\n                {props.isFetching && <Preloader2/>}\r\n            </div>\r\n            {props.users.map(user => {        //отрисовка пользователей\r\n                let unFollow = () => {\r\n                    props.unFollowUser(user.id)\r\n                }\r\n                let follow = () => {\r\n                    props.followUser(user.id)\r\n                }\r\n\r\n                return <div key={user.id} className={item.itemCase}>\r\n                    <UserItem\r\n                        isAuth={props.isAuth}\r\n                        follow={follow}\r\n                        unFollow={unFollow}\r\n                        user={user}\r\n                        followingInProgress={props.followingInProgress}\r\n                    />\r\n                </div>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Users;","import {StateType} from \"./redux-store\";\r\n\r\n\r\n\r\nexport const getUsersSelector = (state: StateType) => {\r\n    return state.user.items\r\n}\r\n\r\nexport const getPageSizeSelector = (state: StateType) => {\r\n    return state.user.pageSize\r\n}\r\nexport const getTotalUserCountSelector = (state: StateType) => {\r\n    return state.user.totalUsersCount\r\n}\r\nexport const getCurrentPageSelector = (state: StateType) => {\r\n    return state.user.currentPage\r\n}\r\nexport const getIsFetchingSelector = (state: StateType) => {\r\n    return state.user.isFetching\r\n}\r\nexport const getFollowingInProgressUserIdSelector = (state: StateType) => {\r\n    return state.user.followingInProgress.userID\r\n}\r\n\r\n","import {connect} from \"react-redux\";\r\nimport {StateType} from \"../../store/redux-store\";\r\nimport {\r\n    followThunk, getUsersThunk, setCurrentPage,\r\n    unFollowThunk, UsersReducerType\r\n} from \"../../store/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\"\r\nimport {\r\n    getCurrentPageSelector, getFollowingInProgressUserIdSelector, getIsFetchingSelector,\r\n    getPageSizeSelector,\r\n    getTotalUserCountSelector,\r\n    getUsersSelector\r\n} from \"../../store/users-selectors\";\r\n\r\ntype DispatchToPropsType = {\r\n    setCurrentPage: (page: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    unFollowUser: (userID: number) => void\r\n    followUser: (userId: number) => void\r\n}\r\ntype StateToPropsType = {\r\n    users: Array<UsersReducerType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    portionSize: number\r\n    isAuth: boolean\r\n}\r\ntype UsersContainerType = DispatchToPropsType & StateToPropsType\r\n\r\nclass UsersPage extends React.Component<UsersContainerType> {\r\n\r\n    componentDidMount() {\r\n        //thunk (преобразователь) сэтает из сервака юзеров при зазруке users страници\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {  //при нажатии номера страници пользователей\r\n        this.props.setCurrentPage(pageNumber)\r\n        //thunk\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <Users\r\n            portionSize={this.props.portionSize}\r\n            onPageChanged={this.onPageChanged}\r\n            currentPage={this.props.currentPage}\r\n            pageSize={this.props.pageSize}\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            users={this.props.users}\r\n            isFetching={this.props.isFetching}\r\n            followingInProgress={this.props.followingInProgress}\r\n            unFollowUser={this.props.unFollowUser}\r\n            followUser={this.props.followUser}\r\n            isAuth={this.props.isAuth}\r\n        />\r\n    }\r\n}\r\n\r\n\r\n// let mapStateToProps = (state: StateType) => {\r\n//     return {\r\n//         users: state.user.items,\r\n//         pageSize: state.user.pageSize,\r\n//         totalUsersCount: state.user.totalUsersCount,\r\n//         currentPage: state.user.currentPage,\r\n//         isFetching: state.user.isFetching,\r\n//         followingInProgress: state.user.followingInProgress.userID\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state: StateType) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        totalUsersCount: getTotalUserCountSelector(state),\r\n        currentPage: getCurrentPageSelector(state),\r\n        isFetching: getIsFetchingSelector(state),\r\n        followingInProgress: getFollowingInProgressUserIdSelector(state),\r\n        portionSize: state.user.portionSize,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        setCurrentPage, getUsers: getUsersThunk, unFollowUser: unFollowThunk,\r\n        followUser: followThunk\r\n    }),\r\n    // withAuthRedirect\r\n)(UsersPage)","import React from \"react\";\r\nimport s from './Header.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from '../../assets/images/user img/Без названия.png'\r\nimport sNetwork from '../../assets/images/network_icon/rss.png'\r\n\r\ntype DispatchToPropsType = {\r\n    logout: () => void\r\n}\r\ntype StateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    photo: string | null\r\n}\r\ntype HeaderPropsType = StateToPropsType & DispatchToPropsType\r\n\r\nfunction Header(props: HeaderPropsType) {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.network}>\r\n                <img className={s.network}\r\n                     src={sNetwork}\r\n                     alt=\"\"/>\r\n                <div><span>dev. society</span></div>\r\n            </div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div className={s.profileLogin}>\r\n                        <div>\r\n                            <span>{props.login}</span>\r\n                            <button onClick={props.logout}>log out</button>\r\n                        </div>\r\n                        <div><img src={props.photo == null ? userPhoto : props.photo} alt=\"\"/></div>\r\n\r\n                    </div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../store/authReducer\";\r\nimport {StateType} from \"../../store/redux-store\";\r\n\r\ntype StateToProps = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    photo: string | null\r\n}\r\ntype DispatchToProps = {\r\n    logout: () => void\r\n}\r\ntype HeaderContainerType = StateToProps & DispatchToProps\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n    render() {\r\n        return (\r\n            <Header isAuth={this.props.isAuth} login={this.props.login} photo={this.props.photo}\r\n                    logout={this.props.logout}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: StateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.data.login,\r\n        photo: state.auth.photo\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './Login.module.scss'\r\nimport {reduxForm, InjectedFormProps} from \"redux-form\";\r\nimport {createField, Input} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLength, requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../store/authReducer\";\r\nimport {StateType} from \"../../store/redux-store\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha?: string\r\n}\r\ntype LoginForm = {\r\n    captchaURL: string | null\r\n}\r\ntype LoginStatePropsType = {\r\n    error: Array<string>\r\n    isAuth: boolean\r\n}\r\ntype LoginDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha?: string) => void\r\n}\r\ntype LoginType = LoginStatePropsType & LoginDispatchPropsType\r\n\r\n\r\nconst maxLength8 = maxLength(8)\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType> & LoginForm> = (props) => {\r\n\r\n    const [typeInput, setTypeInput] = useState<\"password\" | \"text\">(\"password\")\r\n    const onChangeShowPass = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget.checked) {\r\n            setTypeInput(\"text\")\r\n        } else {\r\n            setTypeInput(\"password\")\r\n        }\r\n    }\r\n\r\n    let validators = requiredField && maxLength8\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            {createField(Input, 'email', 'login', requiredField)}\r\n            {createField(Input, 'password', 'password', validators, typeInput)}\r\n            <input type=\"checkbox\" onChange={onChangeShowPass}/> show password\r\n            {createField(Input, \"rememberMe\", 'password', validators, \"checkbox\", \"remember me\")}\r\n            {props.error && <div className={s.formSummeryError}>{props.error}</div>}\r\n            {props.captchaURL && <img src={props.captchaURL} alt=\"\"/>}\r\n            {props.captchaURL && createField(Input, 'captcha', 'captcha', requiredField, 'text')}\r\n            <div className={s.btn}>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps1 = (state: StateType) => ({\r\n    captchaURL: state.auth.captchaURL\r\n})\r\n\r\nconst LoginWithConnect = connect(mapStateToProps1)(LoginForm)\r\n\r\n// reduxForm - hoc, оборачивает в контейнерную компоненту и снабжает компоненту \"своим\" поведением\r\n// <FormDataType> уточнение с какими пропсами прийдёт компонент, что бы внутри \"под капотом\" было понятней что иммено приходит\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginWithConnect)\r\n\r\n\r\nconst Login = ({error, isAuth, login}: LoginType) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    //если залогинен прозойдёт редирект на стринице профиля\r\n    if (isAuth) return <Redirect to={'/profile'}/>\r\n\r\n    return (\r\n        <div className={s.login}>\r\n            <div className={s.loginBlock}>\r\n                <h2>L O G I N</h2>\r\n                {error.map((el) => <span className={s.errorSpan}>{el}</span>)}\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: StateType): LoginStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    error: state.auth.messages\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)\r\n\r\n","import {authMe} from \"./authReducer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n// type of actions\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED'\r\n\r\ntype StateAppReducerType = {\r\n    initialized: boolean\r\n}\r\n// Action types\r\ntype setInitialized = {\r\n    type: typeof SET_INITIALIZED\r\n}\r\n\r\n//ActionsType\r\ntype ActionsTypes = setInitialized\r\n\r\nlet initialState: StateAppReducerType = {\r\n    initialized: false // приложение проинициалтзтровано или нет\r\n}\r\n\r\nconst appReducer = (state: StateAppReducerType = initialState, action: ActionsTypes): StateAppReducerType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {...state, initialized: true}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n//ActionCreators\r\nexport const setInitialize = (): setInitialized => ({type: SET_INITIALIZED})\r\n\r\n//thunk\r\nexport const initializeApp = () => async (dispatch: Dispatch) => {\r\n    // если будет несколько асинхронных запросов и надо ПОСЛЕ выполнения ВСЕХ что-то сделать, то лучше закинуть все\r\n    // промисы в Promise.all([]) (массив) и после уже в методе .then() выполнить что нужно\r\n    // let promise = dispatch<any>(authMe())\r\n    // Promise.all([promise]).then(()=>{\r\n    //     dispatch(setInitialize)\r\n    // })\r\n    await dispatch<any>(authMe())\r\n    dispatch(setInitialize())\r\n    console.log('app initialize')\r\n}\r\n\r\n\r\nexport default appReducer;","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport {Route, Switch, Redirect} from \"react-router-dom\";\r\nimport NavBar from \"./components/Navbar/Navbar\";\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\"\r\nimport {initializeApp} from \"./store/appReducer\";\r\nimport {StateType} from \"./store/redux-store\";\r\nimport Preloader2 from \"./common/Preloader/PreloaderWithStyle/Preloader2\";\r\n\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import Profile from \"./components/Profile/ProfileContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst Profile = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\n\r\ntype AppStateToPropsType = {\r\n    setInitialize: boolean\r\n}\r\ntype AppDispatchToPropsType = {\r\n    initializeApp: () => void\r\n}\r\ntype AppType = AppDispatchToPropsType & AppStateToPropsType\r\n\r\nclass App extends React.Component<AppType> {\r\n    catchAllUnhandledErrors = (rej: any) => {\r\n        alert('some error')\r\n        console.log(typeof rej)\r\n        console.log('error(window) :', rej)\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n        this.props.initializeApp()\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.setInitialize) {\r\n            return <Preloader2/>\r\n        }\r\n\r\n        return (\r\n            <div className={\"app-wrapper\"}>\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <div className={\"app-wrapper-content\"}>\r\n                        <Suspense fallback={<Preloader2/>}>\r\n                        <Switch>\r\n                            <Route path={'/dialog'} render={() => <DialogsContainer/>}/>\r\n                            <Route path={'/profile/:userID?'} render={() => <Profile/>}/>\r\n                            <Route path={'/news'} render={() => <News/>}/>\r\n                            <Route path={'/music'} render={() => <Music/>}/>\r\n                            <Route path={'/settings'} render={() => <Settings/>}/>\r\n\r\n                            <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n                            <Route path={'/login'} render={() => <Login/>}/>\r\n\r\n                            {/*<Route exact path={'/'}><Redirect to={'/login'} /></Route>*/}\r\n                            <Redirect from={'/'} to={'/login'}/>\r\n                            <Route render={ () => <div>404 not found</div>}/>\r\n                        </Switch>\r\n                    </Suspense>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType) => ({\r\n    setInitialize: state.app.initialized\r\n})\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {initializeApp}))(App)","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profile: profileReducer,\r\n    dialogs: dialogsReducer,\r\n    user: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\n// composeEnhancers для работы с Redux Dev Tools\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n//store без работы с Redux Dev Tools\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport type StateType = ReturnType<typeof reducers>\r\nexport type DispatchType = typeof store.dispatch\r\n\r\nexport default store;\r\n\r\n// @ts-ignore\r\nwindow._store_ = store","import './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from \"./store/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Friends_wrapper__yklG3\",\"frTitle\":\"Friends_frTitle__3G8lK\",\"friendProfileBlock\":\"Friends_friendProfileBlock__XRlXb\",\"acc\":\"Friends_acc__3SykU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3j9bL\",\"loginBlock\":\"Login_loginBlock__3nu2v\",\"errorSpan\":\"Login_errorSpan__TzkdO\",\"formSummeryError\":\"Login_formSummeryError__35fbD\",\"btn\":\"Login_btn__1rdNq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2GAXu\",\"network\":\"Header_network__2Hd5n\",\"loginBlock\":\"Header_loginBlock__2Uvr-\",\"profileLogin\":\"Header_profileLogin__2Ciej\"};","export const requiredField = (value: string) => {\r\n    if (value) return undefined\r\n    return 'field is required !'\r\n}\r\n\r\nexport const maxLength = (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols` //проверка на то будет вообще value и (&&) если будет, то длина....\r\n    return undefined\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport s from \"../PreloaderWithStyle/Preloader2.module.scss\"\r\n\r\n\r\n\r\nconst Preloader2 = () => {\r\n    return (\r\n        <div className={s.cssload_container}>\r\n            <div className={s.cssload_speeding_wheel}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader2","import axios from \"axios\";\r\n\r\nconst axiosInstance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '3e79c344-389c-4379-912f-1ab506d5006c'\r\n    }\r\n})\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\ntype ResponseTyp<d = {}, n = number> = {\r\n    data: d\r\n    resultCode: n\r\n    messages: string[]\r\n}\r\nexport type EditProfile = {\r\n    userId?: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts?: {\r\n        github: string\r\n        vk: string\r\n        facebook: string\r\n        instagram: string\r\n        twitter: string\r\n        website: string\r\n        youtube: string\r\n        mainLink: string\r\n    }\r\n}\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then((response) => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return axiosInstance.get<ResponseTyp<{ id: number, login: string, email: string }>>(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha?: string) {\r\n        return axiosInstance.post<ResponseTyp<{ userId: number }>>('/auth/login', {email, password, rememberMe, captcha})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logout() {\r\n        return axiosInstance.delete<ResponseTyp>('/auth/login')\r\n            .then(response => {\r\n                return response.data.resultCode\r\n            })\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return axiosInstance.get('/security/get-captcha-url')\r\n            .then(response => {\r\n                return response.data.url\r\n            })\r\n    }\r\n}\r\n\r\nexport const followingAPI = {\r\n    following(userID: number) {\r\n        return axiosInstance.post(`follow/${userID}`, {})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unFollowing(userID: number) {\r\n        return axiosInstance.delete(`follow/${userID}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID: number) {\r\n        return axiosInstance.get(`profile/${userID}`).then(response => response.data)\r\n    },\r\n    getStatus(userID: string) {\r\n        return axiosInstance.get(`profile/status/${userID}`).then(response => response.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return axiosInstance.put('profile/status', {status: status}).then(response => response.data)\r\n    },\r\n    updPhotos(photo: string | Blob) {\r\n        // формируем объект\r\n        const formData = new FormData()\r\n        // добавляем парамерт 'image'(требование в документации к серваку) и добавляем файл\r\n        formData.append('image', photo)\r\n        return axiosInstance.put('/profile/photo', formData, {\r\n            headers: {\r\n                //при отправки файла настраиваем специфический заголовок. Потому как мы отпавляем не JSON данные, а файл\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data)\r\n    },\r\n    saveProfileChange(profile: EditProfile) {\r\n        return axiosInstance.put('profile', profile).then(response => response.data)\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicWrapper\":\"Music_musicWrapper__2sF4I\",\"titleSearch\":\"Music_titleSearch__q3DE_\",\"input\":\"Music_input__yQlPS\",\"playList\":\"Music_playList__3GjAB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3CK18\",\"selectedPage\":\"Paginator_selectedPage__2lBWh\",\"pageNumber\":\"Paginator_pageNumber__3RVKn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__DwcWD\",\"error\":\"FormsControls_error__3KUkj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarIMG\":\"Users_avatarIMG__LgyBV\"};"],"sourceRoot":""}