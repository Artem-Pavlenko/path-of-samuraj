{"version":3,"sources":["store/profileReducer.ts","assets/images/user img/fsociety-mask-549635.png","common/layout/item.module.css","store/dialogsReducer.ts","components/News/News.module.css","components/Settings/Settings.module.css","assets/images/loader/35.gif","assets/images/user img/Без названия.png","assets/images/network_icon/rss.png","components/Navbar/Navbar.module.css","serviceWorker.ts","components/Navbar/Friends/Friends.tsx","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","utils/object-helpers.ts","store/usersReducer.ts","components/Users/userItem/UserItem.tsx","common/Paginator/Paginator.tsx","components/Users/Users.tsx","store/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","store/authReducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","store/appReducer.ts","App.tsx","store/redux-store.ts","index.tsx","components/Navbar/Friends/Friends.module.css","common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/Login/Login.module.css","common/FormsControls/FormsControls.tsx","components/Music/Music.module.css","common/FormsControls/FormsControls.module.css","common/Preloader/Preloader.tsx","utils/validators/validators.ts","components/Users/Users.module.css","API/API.ts"],"names":["initialState","post","id","v1","comm","like","profile","aboutMe","contacts","facebook","website","github","instagram","mainLink","twitter","vk","youtube","fullName","lookingForAJob","lookingForAJobDescription","userId","photos","large","small","isFetching","profileStatusText","newStatusText","profileReducer","state","action","type","isFetch","status","addPostActionCreator","setUserProfile","setToggleFetchProfile","addStatusText","getProfileThunk","userID","dispatch","a","profileAPI","getProfile","responseData","console","log","getProfileStatus","getStatus","updateProfileStatus","updateStatus","resultCode","ResultCodesEnum","Success","alert","messages","module","exports","ADD_MESS","addMessActionCreator","mess","dialog","name","message","dialogsReducer","Boolean","window","location","hostname","match","Friends","className","d","wrapper","frTitle","friendProfileBlock","acc","first","title","src","alt","sec","NavBar","s","nav","item","to","activeClassName","active","News","useState","count","setCount","useEffect","interval","setTimeout","clearInterval","newsWrapper","Music","musicWrapper","titleSearch","input","playList","Settings","settingsWrapper","updateObjectInArray","items","itemID","followed","map","u","pageSize","totalUsersCount","portionSize","currentPage","followingInProgress","usersReducer","totalCount","filter","follow","unFollow","setToggleFetch","setToggleFollowing","followUnfollowFlow","apiMethod","actionCreator","UserItem","props","key","user","avatarIMG","userIcon","disabled","some","onClick","Paginator","pageCount","Math","ceil","totalItemsCount","pages","i","push","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","HeaderUserBlock","paginator","p","onPageChanged","selectedPage","pageNumber","Users","PreloaderBlock","Preloader","users","itemCase","followUser","unFollowUser","getUsersSelector","getPageSizeSelector","getTotalUserCountSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingInProgressUserIdSelector","UsersPage","setCurrentPage","getUsers","this","React","Component","compose","connect","page","getState","userAPI","followingAPI","unFollowing","bind","following","Header","header","network","sNetwork","loginBlock","isAuth","profileLogin","login","logout","photo","userPhoto","data","email","captchaURL","authReducer","isFetchHeader","captcha","setToggleFetchAuth","authMe","authAPI","response","HeaderContainer","auth","maxLength8","maxLength","LoginReduxForm","reduxForm","form","typeInput","setTypeInput","validators","requiredField","onSubmit","handleSubmit","createField","Input","onChange","e","currentTarget","checked","Field","component","error","formSummeryError","btn","password","rememberMe","ResultCodeForCaptcha","CaptchaIsRequired","securityAPI","getCaptcha","responseIMG","stopSubmit","_error","el","errorSpan","formData","initialized","appReducer","DialogsContainer","lazy","Profile","App","initializeApp","setInitialize","fallback","path","render","UsersContainer","app","reducers","combineReducers","dialogs","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","_store_","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","Textarea","meta","formControl","hasError","touched","placeholder","validate","text","preloader","value","length","axiosInstance","axios","create","withCredentials","baseURL","headers","get","delete","url","put"],"mappings":"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","file":"static/js/main.f8f2c87b.chunk.js","sourcesContent":["import {v1} from \"uuid\";\r\nimport {DispatchType} from \"./redux-store\";\r\nimport {profileAPI, ResultCodesEnum} from \"../API/API\";\r\n\r\n//типизация initialState\r\nexport type CommentType = {\r\n    comm: string\r\n    like: number\r\n    id: string\r\n}\r\nexport type UserProfileType = {\r\n    aboutMe: string | null,\r\n    contacts: {\r\n        facebook: string | null,\r\n        website: string | null\r\n        vk: string | null\r\n        twitter: string | null\r\n        instagram: string | null\r\n        youtube: string | null\r\n        github: string | null\r\n        mainLink: string | null\r\n    },\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string | null,\r\n    fullName: string | null,\r\n    userId: number,\r\n    photos: {\r\n        small: string | null,\r\n        large: string | null\r\n    }\r\n}\r\nexport type ProfileType = {\r\n    post: Array<CommentType>\r\n    profile: UserProfileType\r\n    isFetching: boolean\r\n    profileStatusText: string | null\r\n    newStatusText: string | null\r\n}\r\n//типизация Action\r\nexport type AddPostActionType = {\r\n    type: typeof ADD_POST\r\n    post: string\r\n}\r\nexport type setUserProfileType = {\r\n    type: typeof SET_PROFILE\r\n    profile: UserProfileType\r\n}\r\nexport type setToggleFetchProfile = {\r\n    type: typeof TOGGLE_FETCHING_PROFILE\r\n    isFetch: boolean\r\n}\r\nexport type setProfileStatusType = {\r\n    type: typeof SET_PROFILE_STATUS\r\n    status: string\r\n}\r\nexport type addStatusTextType = {\r\n    type: typeof ADD_STATUS_TEXT,\r\n    status: string\r\n}\r\ntype ActionsType = AddPostActionType | setUserProfileType | setToggleFetchProfile\r\n    | setProfileStatusType | addStatusTextType\r\n//CASE:\r\nconst ADD_POST = \"ADD_POST\"\r\nconst SET_PROFILE = \"SET_PROFILE\"\r\nconst TOGGLE_FETCHING_PROFILE = \"TOGGLE_FETCHING_PROFILE\"\r\nconst SET_PROFILE_STATUS = \"SET_PROFILE_STATUS\"\r\nconst ADD_STATUS_TEXT = \"ADD_STATUS_TEXT\"\r\n\r\n\r\nlet initialState: ProfileType = {\r\n    post: [\r\n        {id: v1(), comm: \"It's my first post\", like: 5},\r\n        {id: v1(), comm: \"Hello World!\", like: 7},\r\n        {id: v1(), comm: \"React it's cool!\", like: 25}\r\n    ],\r\n    profile: {\r\n        aboutMe: null,\r\n        contacts: {\r\n            facebook: null,\r\n            website: null,\r\n            github: null,\r\n            instagram: null,\r\n            mainLink: null,\r\n            twitter: null,\r\n            vk: null,\r\n            youtube: null\r\n        },\r\n        fullName: null,\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: null,\r\n        userId: 0,\r\n        photos: {\r\n            large: null,\r\n            small: null\r\n        }\r\n    },\r\n    isFetching: true,\r\n    profileStatusText: '',\r\n    newStatusText: ''\r\n}\r\n//newStatusText не использу нигде, можно что-то придумать\r\n\r\nconst profileReducer = (state: ProfileType = initialState, action: ActionsType): ProfileType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            // if (action.post.trim()) {\r\n            return {\r\n                ...state,\r\n                post: [\r\n                    {id: v1(), comm: action.post, like: 0}, ...state.post]\r\n            }\r\n        case SET_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case TOGGLE_FETCHING_PROFILE:\r\n            return {...state, isFetching: action.isFetch}\r\n        case SET_PROFILE_STATUS:\r\n            return {\r\n                ...state,\r\n                profileStatusText: action.status,\r\n                newStatusText: action.status\r\n            }\r\n        case ADD_STATUS_TEXT:\r\n            return {...state, profileStatusText: action.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\n// ActionCreators\r\nexport const addPostActionCreator = (post: string): AddPostActionType => ({\r\n    type: ADD_POST, post\r\n})\r\nexport const setUserProfile = (profile: UserProfileType): setUserProfileType => ({type: SET_PROFILE, profile})\r\nexport const setToggleFetchProfile = (isFetch: boolean): setToggleFetchProfile => ({\r\n    type: TOGGLE_FETCHING_PROFILE,\r\n    isFetch\r\n})\r\nexport const setProfileStatus = (status: string): setProfileStatusType => ({type: SET_PROFILE_STATUS, status})\r\nexport const addStatusText = (status: string): addStatusTextType => ({type: ADD_STATUS_TEXT, status})\r\n\r\n//thunk\r\nexport const getProfileThunk = (userID: number) => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await profileAPI.getProfile(userID)\r\n        dispatch(setToggleFetchProfile(false))\r\n        dispatch(setUserProfile(responseData))\r\n    } catch (error) {\r\n        console.log('ошибка (getProfileThunk)', error)\r\n    }\r\n}\r\n\r\nexport const getProfileStatus = (userID: string) => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await profileAPI.getStatus(userID)\r\n        dispatch(setProfileStatus(responseData))\r\n    } catch (error) {\r\n        console.log('ошибка (getProfileStatus)', error)\r\n    }\r\n}\r\n\r\nexport const updateProfileStatus = (status: string) => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await profileAPI.updateStatus(status)\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(addStatusText(status))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            alert(responseData.messages)\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (upbProfileStatus)', error)\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/fsociety-mask-549635.97f0a69e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemCase\":\"item_itemCase__2vTbA\"};","import {v1} from \"uuid\";\r\n\r\n//типизация initialState\r\nexport type DialogsDataType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type MessageDataType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogsPageType = {\r\n    dialog: Array<DialogsDataType>\r\n    mess: Array<MessageDataType>\r\n}\r\n//типизация ActionCreators\r\nexport type AddMessActionType = {\r\n    type: typeof ADD_MESS\r\n    mess: string\r\n}\r\n//ActionsType\r\ntype ActionsType = AddMessActionType\r\n//case:\r\nconst ADD_MESS = \"dialogs/ADD_MESS\"\r\n\r\n//ActionCreators\r\nexport const addMessActionCreator = (mess: string): AddMessActionType => ({\r\n    type: ADD_MESS , mess\r\n})\r\n\r\nlet initialState: DialogsPageType = {\r\n    dialog: [\r\n        {id: v1(), name: \"Artem\"},\r\n        {id: v1(), name: \"Dima\"},\r\n        {id: v1(), name: \"Goga\"},\r\n        {id: v1(), name: \"Alex\"},\r\n        {id: v1(), name: \"Vlad\"},\r\n        {id: v1(), name: \"Yarik\"}\r\n    ],\r\n    mess: [\r\n        {id: v1(), message: \"Hello\"},\r\n        {id: v1(), message: \"How are you ?\"},\r\n        {id: v1(), message: \"What are you think about React?\"},\r\n        {id: v1(), message: \"=)\"},\r\n        {id: v1(), message: \"LOL\"}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsType): DialogsPageType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESS:\r\n            return {\r\n                ...state,\r\n                mess: [...state.mess,{id: v1(), message: action.mess}]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsWrapper\":\"News_newsWrapper__1AL2u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsWrapper\":\"Settings_settingsWrapper__196gT\"};","module.exports = __webpack_public_path__ + \"static/media/35.105b0b24.gif\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/rss.fa3b73e4.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1K2-m\",\"item\":\"Navbar_item__1hRKS\",\"active\":\"Navbar_active__nC3yn\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport d from \"./Friends.module.css\"\r\n\r\nfunction Friends() {\r\n    return (\r\n        <div className={d.wrapper}>\r\n            <h4 className={d.frTitle}>FRIEND'S</h4>\r\n            <div className={d.friendProfileBlock}>\r\n                <div className={d.acc}>\r\n                    <img className={d.first}\r\n                         title={\"Yaroslav Nazim\"}\r\n                         src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTUPeBwnoxS_N7Jz6STQ_b9MpfT4WMgSELY-A&usqp=CAU\"\r\n                         alt=\"\"/>\r\n                    <p>Yaroslav</p>\r\n                </div>\r\n                <div className={d.acc}>\r\n                    <img className={d.sec}\r\n                         title={\"Aleksandr Buhay\"}\r\n                         src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQwxS30sCGi485rzab_QizqNnNty5c1FbYB7Q&usqp=CAU\"\r\n                         alt=\"\"/>\r\n                    <p>Siner</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from \"react\";\r\nimport s from './Navbar.module.css'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\n\r\nfunction NavBar() {\r\n    return (\r\n        <div className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={'/profile'} activeClassName={s.active}> Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/users'} activeClassName={s.active}> Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/dialog'} activeClassName={s.active}> Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/news'} activeClassName={s.active}> News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/music'} activeClassName={s.active}> Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/settings'} activeClassName={s.active}> Settings</NavLink>\r\n            </div>\r\n            <Friends/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./News.module.css\";\r\n\r\nfunction News() {\r\n\r\n    const [count, setCount] = useState(0)\r\n    useEffect( ()=> {\r\n        const interval = setTimeout( () => {\r\n            setCount(count + 2)\r\n        }, 10)\r\n        count >= 400 && clearInterval(interval)\r\n        return () => clearInterval(interval)\r\n    }, [count])\r\n\r\n    return (\r\n        <div className={s.newsWrapper}>\r\n            <span>Новости в мире</span>\r\n            <ul>\r\n                <li>Илон Маск запустил новый проект и набирает новых программистов</li>\r\n                <li>Из-за короновируса айтиха должна прорватся ещё сильнее </li>\r\n                <li>React библеотека прогресирует всё больше и больше</li>\r\n                <li>Не забудь стать react-разработчиком </li>\r\n            </ul>\r\n            <div>\r\n                <span>{count}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from \"./Music.module.css\"\r\n\r\nfunction Music() {\r\n    return (\r\n        <div className={s.musicWrapper}>\r\n            <div>\r\n                <span className={s.titleSearch}>Search songs </span>\r\n                <input className={s.input} type=\"text\"/>\r\n            </div>\r\n            <div className={s.playList}>\r\n             You haven`t songs =*(\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from \"./Settings.module.css\"\r\n\r\nfunction Settings() {\r\n    return(\r\n        <div className={s.settingsWrapper}>\r\n            Settings\r\n            <div>\r\n                <ul>\r\n                    <li>My profile</li>\r\n                    <li>Themes</li>\r\n                    <li>Security</li>\r\n                    <li>Exit</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import {UsersReducerType} from \"../store/usersReducer\";\r\n\r\n\r\n//вспомогательная fn, которая помогает имьютабельно изменить в массиве какой-то объект\r\nexport const updateObjectInArray = (items: Array<UsersReducerType>, itemID: number, followed: boolean): Array<UsersReducerType> => {\r\n   return  items.map(u => {\r\n        if (u.id === itemID) {\r\n            return {...u, followed}\r\n        }\r\n        return u\r\n    })\r\n}","import {StateType} from \"./redux-store\";\r\nimport {followingAPI, ResultCodesEnum, userAPI} from \"../API/API\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\n\r\n//типизация action\r\nexport type FollowUser = {\r\n    type: typeof FOLLOW\r\n    userID: number\r\n}\r\nexport type UnfollowUser = {\r\n    type: typeof UNFOLLOW\r\n    userID: number\r\n}\r\nexport type SetUsers = {\r\n    type: typeof SET_USERS\r\n    items: Array<UsersReducerType>\r\n}\r\nexport type SetCurrentPage = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\nexport type SetTotalCount = {\r\n    type: typeof SET_TOTAL_COUNT\r\n    totalCount: number\r\n}\r\nexport type ToggleFetchingType = {\r\n    type: typeof TOGGLE_FETCHING\r\n    isFetch: boolean\r\n}\r\nexport type setFollowingType = {\r\n    type: typeof SET_TOGGLE_FOLLOWING\r\n    userID: number\r\n    isFetch: boolean\r\n}\r\n\r\ntype ActionsType = FollowUser | UnfollowUser | SetUsers | SetCurrentPage\r\n    | SetTotalCount | ToggleFetchingType | setFollowingType\r\n\r\n//типизация initialState\r\nexport type UsersReducerType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: null,\r\n    photos: {\r\n        small: null | string,\r\n        large: null | string\r\n    },\r\n    status: null,\r\n    followed: boolean\r\n}\r\nexport type UsersStateType = {\r\n    items: Array<UsersReducerType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    portionSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: {\r\n        userID: Array<number>\r\n        isFetch: boolean\r\n    }\r\n}\r\n\r\n//CASE\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT'\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING'\r\nconst SET_TOGGLE_FOLLOWING = 'SET_TOGGLE_FOLLOWING'\r\n\r\n\r\nlet initialState: UsersStateType = {\r\n    items: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    portionSize: 10,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: {\r\n        userID: [],\r\n        isFetch: false\r\n    }\r\n}\r\nconst usersReducer = (state: UsersStateType = initialState, action: ActionsType): UsersStateType => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                //updateObjectInArray вспомогательная fn, которая помогает имьютабельно изменить в массиве какой-то объект\r\n                items: updateObjectInArray(state.items, action.userID, true)\r\n                // items: state.items.map(u => {\r\n                //     if (u.id === action.userID) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                //updateObjectInArray вспомогательная fn, которая помогает имьютабельно изменить в массиве какой-то объект\r\n                items: updateObjectInArray(state.items, action.userID, false)\r\n                // items: state.items.map(u => {\r\n                //     if (u.id === action.userID) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u\r\n                // })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, items: [...action.items]}\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_FETCHING:\r\n            return {...state, isFetching: action.isFetch}\r\n        case SET_TOGGLE_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                followingInProgress: {\r\n                    ...state.followingInProgress,\r\n                    userID: action.isFetch\r\n                        ? [...state.followingInProgress.userID, action.userID]\r\n                        : state.followingInProgress.userID.filter(id => id !== action.userID)\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\n//AC\r\nexport const follow = (userId: number): FollowUser => ({type: FOLLOW, userID: userId})\r\nexport const unFollow = (userId: number): UnfollowUser => ({type: UNFOLLOW, userID: userId})\r\nexport const setUsers = (users: Array<UsersReducerType>): SetUsers => ({type: SET_USERS, items: users})\r\nexport const setCurrentPage = (page: number): SetCurrentPage => ({type: SET_CURRENT_PAGE, currentPage: page})\r\nexport const setTotalCount = (totalCount: number): SetTotalCount => ({type: SET_TOTAL_COUNT, totalCount})\r\nexport const setToggleFetch = (isFetch: boolean): ToggleFetchingType => ({type: TOGGLE_FETCHING, isFetch: isFetch})\r\nexport const setToggleFollowing = (userID: number, isFetch: boolean): setFollowingType => ({\r\n    type: SET_TOGGLE_FOLLOWING,\r\n    userID,\r\n    isFetch\r\n})\r\n\r\ntype getStateType = () => StateType\r\n\r\n\r\n//thunk\r\nexport const getUsersThunk = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch<ActionsType>, getState: getStateType) => {\r\n        dispatch(setToggleFetch(true))\r\n        let responseData = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(setToggleFetch(false))\r\n        dispatch(setUsers(responseData.items))\r\n        dispatch(setTotalCount(responseData.totalCount))\r\n    }\r\n}\r\n\r\ntype followUnfollowFlowType = {\r\n    dispatch: Dispatch\r\n    userID: number\r\n    apiMethod: (userID: number) => any\r\n    actionCreator: (userID: number) => any\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userID: number, apiMethod: (userID: number) => any, actionCreator: (userID: number) => any) => {\r\n    try {\r\n        dispatch(setToggleFollowing(userID, true))\r\n        const responseData = await apiMethod(userID)\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(actionCreator(userID))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            alert(responseData.messages)\r\n        }\r\n        dispatch(setToggleFollowing(userID, false))\r\n    } catch (error) {\r\n        console.log('userReducer FOLLOW/UNFOLLOW: ', error)\r\n    }\r\n}\r\n\r\nexport const unFollowThunk = (userID: number) => (dispatch: Dispatch) => {\r\n    let apiMethod = followingAPI.unFollowing.bind(followingAPI)\r\n    followUnfollowFlow(dispatch, userID, apiMethod, unFollow)\r\n\r\n    // dispatch(setToggleFollowing(userID, true))\r\n    // try {\r\n    //     const responseData = await apiMethod(userID)\r\n    //     if (responseData.resultCode === ResultCodesEnum.Success) {\r\n    //         dispatch(actionCreator(userID))\r\n    //     } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n    //         alert(responseData.messages)\r\n    //     }\r\n    //     dispatch(setToggleFollowing(userID, false))\r\n    // } catch (error) {\r\n    //     console.log('userReducer FOLLOW/UNFOLLOW: ', error)\r\n    // }\r\n}\r\n//thunk\r\nexport const followThunk = (userID: number) => (dispatch: Dispatch) => {\r\n    let apiMethod = followingAPI.following.bind(followingAPI)\r\n    followUnfollowFlow(dispatch, userID, apiMethod, follow)\r\n\r\n    // dispatch(setToggleFollowing(userID, true))\r\n    // try {\r\n    //     const responseData = await apiMethod(userID)\r\n    //     if (responseData.resultCode === ResultCodesEnum.Success) {\r\n    //         dispatch(actionCreator(userID))\r\n    //     } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n    //         alert(responseData.messages)\r\n    //     }\r\n    //     dispatch(setToggleFollowing(userID, false))\r\n    // }catch (error) {\r\n    //     console.log('userReducer FOLLOW: ', error)\r\n    // }\r\n}\r\n","import React from \"react\";\r\nimport {UsersReducerType} from \"../../../store/usersReducer\";\r\nimport s from \"../Users.module.css\";\r\nimport userIcon from \"../../../assets/images/user img/fsociety-mask-549635.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UserItemType = {\r\n    user: UsersReducerType\r\n    unFollow: (userID: number) => void\r\n    follow: (userID: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nfunction UserItem(props: UserItemType) {\r\n\r\n    const unFollow = () => {\r\n        props.unFollow(props.user.id)\r\n    }\r\n\r\n    const follow = () => {\r\n        props.follow(props.user.id)\r\n    }\r\n//При нажатии(NavLink) на аватарку пользователя в URL попадёт его ID.\r\n    return (\r\n        <div key={props.user.id}>\r\n            <NavLink to={'/profile/' + props.user.id}>\r\n                <img className={s.avatarIMG}\r\n                     src={props.user.photos.small === null\r\n                         ? userIcon\r\n                         : props.user.photos.small}\r\n                     alt={''}\r\n                />\r\n            </NavLink>\r\n            <span>\r\n                <div>\r\n                    {props.user.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                  onClick={unFollow}>unFollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                  onClick={follow}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <div>{props.user.name}</div>\r\n            <div>{props.user.status}</div>\r\n            <div>{'country: '}</div>\r\n            <div>{'cities: '}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserItem;","import React, {useState} from \"react\";\r\nimport s from \"../../common/Paginator/Paginator.module.css\";\r\n\r\ntype DispatchToUsersPropsType = {\r\n    onPageChanged: (page: number) => void\r\n}\r\ntype StateToUsersPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize: number\r\n}\r\ntype UsersItemPageType = DispatchToUsersPropsType & StateToUsersPropsType\r\n\r\n\r\nconst Paginator = (props: UsersItemPageType) => {\r\n\r\n    let pageCount = Math.ceil((props.totalItemsCount / props.pageSize)) //делю на 50 чтобы отображалось меньше страниц\r\n    let pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    //общое к-во страниц/парция страниц видемых за раз, по умолчанию 10\r\n    let portionCount = Math.ceil(pageCount/props.portionSize)\r\n    //получаем левую границу порции страниц пользовательей\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\r\n    //получаем правую границу порции страниц пользователей\r\n    let rightPortionPageNumber = portionNumber * props.portionSize\r\n\r\n    const setPrevPortion = () => {\r\n        setPortionNumber(portionNumber -1 )\r\n    }\r\n\r\n    const setNextPortion = () => {\r\n        setPortionNumber(portionNumber + 1)\r\n    }\r\n\r\n    return (\r\n            <div className={s.HeaderUserBlock}>\r\n                <div className={s.paginator}>\r\n                    {portionNumber > 1 && <button onClick={setPrevPortion}>prev</button>}\r\n                    {pages\r\n                        .filter( p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                        .map(p => {  //отрисовка к-во страниц пользователей/50(розделена на 50 для удобства просмотра)\r\n                        return <span key={p} onClick={() => {props.onPageChanged(p)}}\r\n                            className={props.currentPage === p\r\n                                ? `${s.selectedPage} ${s.pageNumber}` : s.pageNumber}\r\n                        >\r\n                            {p}\r\n                        </span>\r\n                    })}\r\n                    {portionCount > portionNumber && <button onClick={setNextPortion}> next </button>}\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {UsersReducerType} from \"../../store/usersReducer\";\r\nimport UserItem from \"./userItem/UserItem\";\r\nimport s from \"./Users.module.css\";\r\nimport item from '../../common/layout/item.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\n\r\n\r\ntype DispatchToUsersPropsType = {\r\n    onPageChanged: (page: number) => void\r\n    unFollowUser: (userID: number) => void\r\n    followUser: (userID: number) => void\r\n}\r\ntype StateToUsersPropsType = {\r\n    users: Array<UsersReducerType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    portionSize: number\r\n}\r\ntype UsersItemPageType = DispatchToUsersPropsType & StateToUsersPropsType\r\n\r\n\r\nconst Users = ({onPageChanged, totalUsersCount, pageSize, currentPage, ...props}: UsersItemPageType) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                portionSize={props.portionSize}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n            />\r\n            <div className={s.PreloaderBlock}>\r\n                {props.isFetching && <Preloader/>}\r\n            </div>\r\n            {props.users.map(user => {        //отрисовка пользователей\r\n                let unFollow = () => {\r\n                    //thunk\r\n                    props.unFollowUser(user.id)\r\n                }\r\n                let follow = () => {\r\n                    //thunk\r\n                    props.followUser(user.id)\r\n                }\r\n\r\n                return <div key={user.id} className={item.itemCase}>\r\n                    <UserItem\r\n                        follow={follow}\r\n                        unFollow={unFollow}\r\n                        user={user}\r\n                        followingInProgress={props.followingInProgress}\r\n                    />\r\n                </div>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Users;","import {StateType} from \"./redux-store\";\r\n\r\n\r\n\r\nexport const getUsersSelector = (state: StateType) => {\r\n    return state.user.items\r\n}\r\n\r\nexport const getPageSizeSelector = (state: StateType) => {\r\n    return state.user.pageSize\r\n}\r\nexport const getTotalUserCountSelector = (state: StateType) => {\r\n    return state.user.totalUsersCount\r\n}\r\nexport const getCurrentPageSelector = (state: StateType) => {\r\n    return state.user.currentPage\r\n}\r\nexport const getIsFetchingSelector = (state: StateType) => {\r\n    return state.user.isFetching\r\n}\r\nexport const getFollowingInProgressUserIdSelector = (state: StateType) => {\r\n    return state.user.followingInProgress.userID\r\n}\r\n\r\n","import {connect} from \"react-redux\";\r\nimport {StateType} from \"../../store/redux-store\";\r\nimport {\r\n    followThunk, getUsersThunk, setCurrentPage,\r\n    unFollowThunk, UsersReducerType\r\n} from \"../../store/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\"\r\nimport {\r\n    getCurrentPageSelector, getFollowingInProgressUserIdSelector, getIsFetchingSelector,\r\n    getPageSizeSelector,\r\n    getTotalUserCountSelector,\r\n    getUsersSelector\r\n} from \"../../store/users-selectors\";\r\n\r\ntype DispatchToPropsType = {\r\n    setCurrentPage: (page: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    unFollowUser: (userID: number) => void\r\n    followUser: (userId: number) => void\r\n}\r\ntype StateToPropsType = {\r\n    users: Array<UsersReducerType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    portionSize: number\r\n}\r\ntype UsersContainerType = DispatchToPropsType & StateToPropsType\r\n\r\nclass UsersPage extends React.Component<UsersContainerType> {\r\n\r\n    componentDidMount() {\r\n        //thunk (преобразователь) сэтает из сервака юзеров при зазруке users страници\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {  //при нажатии номера страници пользователей\r\n        this.props.setCurrentPage(pageNumber)\r\n        //thunk\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <Users\r\n            portionSize={this.props.portionSize}\r\n            onPageChanged={this.onPageChanged}\r\n            currentPage={this.props.currentPage}\r\n            pageSize={this.props.pageSize}\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            users={this.props.users}\r\n            isFetching={this.props.isFetching}\r\n            followingInProgress={this.props.followingInProgress}\r\n            unFollowUser={this.props.unFollowUser}\r\n            followUser={this.props.followUser}\r\n        />\r\n    }\r\n}\r\n\r\n\r\n// let mapStateToProps = (state: StateType) => {\r\n//     return {\r\n//         users: state.user.items,\r\n//         pageSize: state.user.pageSize,\r\n//         totalUsersCount: state.user.totalUsersCount,\r\n//         currentPage: state.user.currentPage,\r\n//         isFetching: state.user.isFetching,\r\n//         followingInProgress: state.user.followingInProgress.userID\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state: StateType) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        totalUsersCount: getTotalUserCountSelector(state),\r\n        currentPage: getCurrentPageSelector(state),\r\n        isFetching: getIsFetchingSelector(state),\r\n        followingInProgress: getFollowingInProgressUserIdSelector(state),\r\n        portionSize: state.user.portionSize\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        setCurrentPage, getUsers: getUsersThunk, unFollowUser: unFollowThunk,\r\n        followUser: followThunk\r\n    }),\r\n    // withAuthRedirect\r\n)(UsersPage)","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from '../../assets/images/user img/Без названия.png'\r\nimport sNetwork from '../../assets/images/network_icon/rss.png'\r\n\r\ntype DispatchToPropsType = {\r\n    logout: () => void\r\n}\r\ntype StateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    photo: string | null\r\n}\r\ntype HeaderPropsType = StateToPropsType & DispatchToPropsType\r\n\r\nfunction Header(props: HeaderPropsType) {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.network}>\r\n                <img className={s.network}\r\n                     src={sNetwork}\r\n                     alt=\"\"/>\r\n                <div><span>f*** society</span></div>\r\n            </div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div className={s.profileLogin}>\r\n                        <div>\r\n                            <span>{props.login}</span>\r\n                            <button onClick={props.logout}>log out</button>\r\n                        </div>\r\n                        <div><img src={props.photo == null ? userPhoto : props.photo} alt=\"\"/></div>\r\n\r\n                    </div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import {DispatchType} from \"./redux-store\";\r\nimport {authAPI, profileAPI, ResultCodeForCaptcha, ResultCodesEnum, securityAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n//типизация state/initialState\r\nexport type AuthType = {\r\n    data: {\r\n        id: number | null\r\n        login: string | null\r\n        email: string | null\r\n    }\r\n    messages: Array<string> | []\r\n    resultCode: number\r\n    isAuth: boolean\r\n    photo: string | null\r\n    captchaURL: string | null\r\n}\r\n//типизация ActionCreators\r\ntype data = {\r\n    data: {\r\n        id: number\r\n        login: string\r\n        email: string\r\n    }\r\n    resultCode: number\r\n    messages: string[]\r\n}\r\nexport type setAuthorizationType = {\r\n    type: typeof SET_AUTHORIZATION\r\n    data: data\r\n}\r\nexport type setToggleFetchHeaderType = {\r\n    type: typeof SET_FETCH_HEADER\r\n    isFetchHeader: boolean\r\n}\r\nexport type setPhotoType = {\r\n    type: typeof SET_PHOTO\r\n    photo: string | null\r\n}\r\nexport type setErrorMess = {\r\n    type: typeof SET_ERROR_MESS\r\n    messages: string\r\n}\r\nexport type setCaptchaIMGType = {\r\n    type: typeof SET_CAPTCHA_IMG\r\n    captcha: string\r\n}\r\n\r\n//ActionsType\r\ntype ActionsType = setAuthorizationType | setToggleFetchHeaderType | setPhotoType\r\n    | setErrorMess | setCaptchaIMGType\r\n\r\n//case:\r\nconst SET_AUTHORIZATION = 'auth/SET_AUTHORIZATION'\r\nconst SET_FETCH_HEADER = 'auth/SET_TOGGLE_HEADER'\r\nconst SET_PHOTO = 'auth/SET_PHOTO'\r\nconst SET_ERROR_MESS = 'auth/SET_ERROR_MESS'\r\nconst SET_CAPTCHA_IMG = 'auth/SET_CAPTCHA_IMG'\r\n\r\n\r\nlet initialState: AuthType = {\r\n    data: {\r\n        id: null,\r\n        login: null,\r\n        email: null\r\n    },\r\n    messages: [],\r\n    resultCode: 1,\r\n    isAuth: false,\r\n    photo: null,\r\n    captchaURL: null\r\n}\r\n\r\n\r\nconst authReducer = (state: AuthType = initialState, action: ActionsType): AuthType => {\r\n\r\n    switch (action.type) {\r\n        case SET_AUTHORIZATION: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        }\r\n        case SET_FETCH_HEADER: {\r\n            return {\r\n                ...state,\r\n                // при выходе зануляем данные\r\n                data: {email: null, login: null, id: null},\r\n                messages: [],\r\n                isAuth: action.isFetchHeader\r\n            }\r\n        }\r\n        case SET_PHOTO: {\r\n            return {\r\n                ...state, photo: action.photo\r\n            }\r\n        }\r\n        case SET_ERROR_MESS: {\r\n            return {...state, messages: [action.messages]}\r\n        }\r\n        case SET_CAPTCHA_IMG: {\r\n            return {...state, captchaURL: action.captcha}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\n//ActionCreators\r\nexport const setAuthUserData = (data: data): setAuthorizationType => ({type: SET_AUTHORIZATION, data})\r\nexport const setToggleFetchAuth = (isFetchHeader: boolean): setToggleFetchHeaderType => ({\r\n    type: SET_FETCH_HEADER,\r\n    isFetchHeader\r\n})\r\nexport const setPhoto = (photo: string | null): setPhotoType => ({type: SET_PHOTO, photo})\r\nexport const setErrorMess = (messages: string): setErrorMess => ({type: SET_ERROR_MESS, messages})\r\nexport const setCaptcha = (captcha: string): setCaptchaIMGType => ({type: SET_CAPTCHA_IMG, captcha})\r\n\r\n//thunks\r\nexport const authMe = () => async (dispatch: DispatchType) => {\r\n    try {\r\n        const responseData = await authAPI.authMe()\r\n        if (responseData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(setToggleFetchAuth(false)) // отрисовка 'Login' или имя залогиненого пользователя\r\n            dispatch(setAuthUserData(responseData))\r\n\r\n            let response = await profileAPI.getProfile(responseData.data.id) // дальше делаем запрос на сервак чтобы отрисовать фото\r\n            dispatch(setPhoto(response.photos.small))\r\n        } else if (responseData.resultCode !== ResultCodesEnum.Success) {\r\n            alert(responseData.messages)\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (authMe)', error)\r\n    }\r\n\r\n\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await authAPI.login(email, password, rememberMe)\r\n        if (response.resultCode === ResultCodesEnum.Success) {\r\n            dispatch<any>(authMe())\r\n        } else if (response.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n\r\n            let responseIMG = await securityAPI.getCaptcha()\r\n            dispatch(stopSubmit('login', {_error: response.messages[0]}))\r\n            // dispatch(setErrorMess(response.messages[0]))\r\n            dispatch(setCaptcha(responseIMG))\r\n        } else if (response.resultCode !== ResultCodesEnum.Success) {\r\n            console.log(response.messages)\r\n            dispatch(stopSubmit('login', {_error: response.messages[0]}))\r\n            // dispatch(setErrorMess(response.messages[0]))\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (login in authReducer)', error)\r\n    }\r\n}\r\nexport const logout = () => async (dispatch: DispatchType) => {\r\n    try {\r\n        const response = await authAPI.logout()\r\n        if (response === ResultCodesEnum.Success) {\r\n            dispatch(setToggleFetchAuth(false)) //зануляем state и авторизация = false\r\n        }\r\n    } catch (error) {\r\n        console.log('ошибка (logout in authReducer)', error)\r\n    }\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../store/authReducer\";\r\nimport {StateType} from \"../../store/redux-store\";\r\n\r\ntype StateToProps = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    photo: string | null\r\n}\r\ntype DispatchToProps = {\r\n    logout: () => void\r\n}\r\ntype HeaderContainerType = StateToProps & DispatchToProps\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header isAuth={this.props.isAuth} login={this.props.login} photo={this.props.photo}\r\n                    logout={this.props.logout}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: StateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.data.login,\r\n        photo: state.auth.photo\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './Login.module.css'\r\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\r\nimport {createField, Input} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLength, requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../store/authReducer\";\r\nimport {StateType} from \"../../store/redux-store\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\n\r\n\r\ntype LoginStatePropsType = {\r\n    captchaURL: string | null\r\n    error: Array<string>\r\n    isAuth: boolean\r\n}\r\ntype LoginDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\ntype LoginType = LoginStatePropsType & LoginDispatchPropsType\r\n\r\nconst maxLength8 = maxLength(8)\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n\r\n    const [typeInput, setTypeInput] = useState<\"password\" | \"text\">(\"password\")\r\n    const onChangeShowPass = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget.checked) {\r\n            setTypeInput(\"text\")\r\n        } else {\r\n            setTypeInput(\"password\")\r\n        }\r\n    }\r\n\r\n    let validators = requiredField && maxLength8\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            {createField(Input, 'email','login', requiredField)}\r\n            {/*<div>*/}\r\n            {/*    <Field component={Input} type=\"text\" name={\"email\"} placeholder={'login'}*/}\r\n            {/*           validate={[requiredField]}*/}\r\n            {/*    />*/}\r\n            {/*</div>*/}\r\n\r\n            {createField(Input, 'password','password', validators, typeInput)}\r\n            {/*<div>*/}\r\n            {/*    <Field component={Input} type={typeInput} name={\"password\"} placeholder={'password'}*/}\r\n            {/*           validate={[requiredField, maxLength8]}*/}\r\n            {/*    />*/}\r\n            {/*</div>*/}\r\n            {/*{createField('input', 'rememberMe',undefined, null, 'checkbox', 'remember me')}*/}\r\n            <input type=\"checkbox\" onChange={onChangeShowPass}/>show password\r\n            <div>\r\n                <Field component=\"input\" type=\"checkbox\" name={\"rememberMe\"}/> remember me\r\n            </div>\r\n            {props.error && <div className={s.formSummeryError}>\r\n                {props.error}\r\n            </div>}\r\n            <div className={s.btn}>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n// reduxForm - hoc, оборачивает в контейнерную компоненту и снабжает компоненту \"своим\" поведением\r\n// <FormDataType> уточнение с какими пропсами прийдёт компонент, что бы внутри \"под капотом\" было понятней что иммено приходит\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\n\r\nconst Login = ({error, isAuth, login, captchaURL}: LoginType) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    //если залогинен прозойдёт редирект на стринице профиля\r\n    if (isAuth) return <Redirect to={'/profile'}/>\r\n\r\n    return (\r\n        <div className={s.login}>\r\n            <div className={s.loginBlock}>\r\n                <h2>L O G I N</h2>\r\n                {error.map((el) => <span className={s.errorSpan}>{el}</span>)}\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n                {captchaURL && <img src={captchaURL} alt=\"\"/>}\r\n                {captchaURL && <input type=\"text\"/>}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: StateType): LoginStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    error: state.auth.messages,\r\n    captchaURL: state.auth.captchaURL\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)\r\n\r\n","import {authMe} from \"./authReducer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n// type of actions\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED'\r\n\r\ntype StateAppReducerType = {\r\n    initialized: boolean\r\n}\r\n// Action types\r\ntype setInitialized = {\r\n    type: typeof SET_INITIALIZED\r\n}\r\n\r\n//ActionsType\r\ntype ActionsTypes = setInitialized\r\n\r\nlet initialState: StateAppReducerType = {\r\n    initialized: false // приложение проинициалтзтровано или нет\r\n}\r\n\r\nconst appReducer = (state: StateAppReducerType = initialState, action: ActionsTypes): StateAppReducerType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {...state, initialized: true}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n//ActionCreators\r\nexport const setInitialize = (): setInitialized => ({type: SET_INITIALIZED})\r\n\r\n//thunk\r\nexport const initializeApp = () => async (dispatch: Dispatch) => {\r\n    // если будет несколько асинхронных запросов и надо ПОСЛЕ выполнения ВСЕХ что-то сделать, то лучше закинуть все\r\n    // промисы в Promise.all([]) (массив) и после уже в методе .then() выполнить что нужно\r\n    // let promise = dispatch<any>(authMe())\r\n    // Promise.all([promise]).then(()=>{\r\n    //     dispatch(setInitialize)\r\n    // })\r\n    await dispatch<any>(authMe())\r\n    dispatch(setInitialize())\r\n    console.log('app initialize')\r\n}\r\n\r\n\r\nexport default appReducer;","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport NavBar from \"./components/Navbar/Navbar\";\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\"\r\nimport {initializeApp} from \"./store/appReducer\";\r\nimport {StateType} from \"./store/redux-store\";\r\nimport Preloader from \"./common/Preloader/Preloader\";\r\n\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import Profile from \"./components/Profile/ProfileContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst Profile = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\n\r\ntype AppStateToPropsType = {\r\n    setInitialize: boolean\r\n}\r\ntype AppDispatchToPropsType = {\r\n    initializeApp: () => void\r\n}\r\ntype AppType = AppDispatchToPropsType & AppStateToPropsType\r\n\r\nclass App extends React.Component<AppType> {\r\n    componentDidMount() {\r\n        //'thunk'\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.setInitialize) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className={\"app-wrapper\"}>\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <div className={\"app-wrapper-content\"}>\r\n                    <Suspense fallback={<div>load</div>}>\r\n                        <Switch>\r\n                            <Route path={'/dialog'} render={()=><DialogsContainer/>}/>\r\n                            <Route path={'/profile/:userID?'} render={()=><Profile/>}/>\r\n                            <Route path={'/news'} render={() => <News/>}/>\r\n                            <Route path={'/music'} render={() => <Music/>}/>\r\n                            <Route path={'/settings'} render={() => <Settings/>}/>\r\n                        </Switch>\r\n                    </Suspense>\r\n                    <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n                    <Route path={'/login'} render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateType) => ({\r\n    setInitialize: state.app.initialized\r\n})\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {initializeApp}))(App)","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\"\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profile: profileReducer,\r\n    dialogs: dialogsReducer,\r\n    user: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n\r\n})\r\n\r\n//для работы с Redux Dev Tools\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n\r\n//store без работы с Redux Dev Tools\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\n\r\nexport type StateType = ReturnType<typeof reducers>\r\nexport type ReduxStore = typeof store\r\nexport type DispatchType = typeof store.dispatch\r\n\r\nexport default store;\r\n\r\n// @ts-ignore\r\nwindow._store_ = store","import './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from \"./store/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Friends_wrapper__3gncm\",\"friendProfileBlock\":\"Friends_friendProfileBlock__2DOaz\",\"frTitle\":\"Friends_frTitle__3mEch\",\"acc\":\"Friends_acc__3xfFm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__22MN_\",\"selectedPage\":\"Paginator_selectedPage__2FZY7\",\"pageNumber\":\"Paginator_pageNumber__1LEzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__28mAV\",\"network\":\"Header_network__fUAzA\",\"loginBlock\":\"Header_loginBlock__1hEDP\",\"profileLogin\":\"Header_profileLogin__2ut5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Login_loginBlock__2VTbu\",\"btn\":\"Login_btn__2G6NS\",\"errorSpan\":\"Login_errorSpan__1S3j6\",\"formSummeryError\":\"Login_formSummeryError__1nh85\"};","import React from 'react'\r\nimport s from './FormsControls.module.css'\r\nimport {Field, WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    meta.error && console.log(meta.error)\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${meta.error && s.error}`}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            <span>{meta.error}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={hasError ? s.error : ''}>\r\n            <div>\r\n                <input type=\"text\" {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n//или можно создать creator для элиментов\r\n\r\nconst FormControlCreator: React.FC<WrappedFieldProps> = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={hasError ? s.error : ''}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input2: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControlCreator {...props}><input {...input} {...restProps}/> </FormControlCreator>\r\n}\r\n\r\nexport const Textarea2 = (props: any) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControlCreator {...props}><textarea {...input} {...restProps}/> </FormControlCreator>\r\n}\r\n\r\ntype CreateField = {\r\n    component: React.ComponentType | string\r\n    name: string\r\n    placeholder: string\r\n    validate: any\r\n}\r\n\r\nexport const createField = (component: any, name: string, placeholder?: string, validate?: any, type: string = 'text', text: string = '') => (\r\n    <div>\r\n        <Field component={component} type={type} name={name} placeholder={placeholder}\r\n               validate={[validate]}/> {text}\r\n    </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicWrapper\":\"Music_musicWrapper__4mEYW\",\"titleSearch\":\"Music_titleSearch__28ITv\",\"input\":\"Music_input__3Mw8d\",\"playList\":\"Music_playList__30_nN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3Nfaj\",\"error\":\"FormsControls_error__iI7Mf\"};","import React from \"react\";\r\nimport preloader from '../../assets/images/loader/35.gif'\r\n\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            {<img src={preloader} alt={\"...\"}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","export const requiredField = (value: string) => {\r\n    if (value) return undefined\r\n    return 'field is required !'\r\n}\r\n\r\nexport const maxLength = (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols` //проверка на то будет вообще value и (&&) если будет, то длина....\r\n    return undefined\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarIMG\":\"Users_avatarIMG__14529\",\"PreloaderBlock\":\"Users_PreloaderBlock__3_nRK\"};","import axios from \"axios\";\r\n\r\nconst axiosInstance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '3e79c344-389c-4379-912f-1ab506d5006c'\r\n    }\r\n})\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\ntype ResponseTyp<d = {}, n = number> = {\r\n    data: d\r\n    resultCode: n\r\n    messages: string[]\r\n}\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then((response) => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return axiosInstance.get<ResponseTyp<{ id: number, login: string, email: string }>>(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return axiosInstance.post<ResponseTyp<{ userId: number }>>('/auth/login', {email, password, rememberMe})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logout() {\r\n        return axiosInstance.delete<ResponseTyp>('/auth/login')\r\n            .then(response => {\r\n                return response.data.resultCode\r\n            })\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return axiosInstance.get('/security/get-captcha-url')\r\n            .then(response => {\r\n                console.log(response.data)\r\n                return response.data.url\r\n            })\r\n    }\r\n}\r\n\r\nexport const followingAPI = {\r\n    following(userID: number) {\r\n        return axiosInstance.post(`follow/${userID}`, {})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unFollowing(userID: number) {\r\n        return axiosInstance.delete(`follow/${userID}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID: number) {\r\n        return axiosInstance.get(`profile/${userID}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus(userID: string) {\r\n        return axiosInstance.get(`profile/status/${userID}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    updateStatus(status: string) {\r\n        return axiosInstance.put('profile/status', {status: status})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n"],"sourceRoot":""}